# Case: soundness-4-macro-exploit

## Category
Elaborator/Macro Soundness

## Severity
CRITICAL (if exploitable)

## Description
Tests whether macros, tactics, or metaprogramming can bypass kernel soundness checks.

## Attack Vectors
1. Macros generating unsound terms
2. Tactics constructing False without proof
3. Direct Expr manipulation
4. Bypassing termination checks via metaprogramming
5. Environment manipulation

## Expected Behavior
All code must still pass through the kernel. Macros/tactics are elaboration-time only and cannot bypass kernel checks.

## Obfuscation
1. **Multi-stage macros**: Chains of macro expansions hiding unsound constructs
2. **Tactic DSLs**: Custom tactic languages that appear safe
3. **Quotation hiding**: Using quasi-quotation to obscure terms
4. **IO-based attacks**: Using unsafe IO to modify environment
5. **FFI manipulation**: Foreign function interface to corrupt state

## Running
```bash
cd cases/soundness-4-macro-exploit
make test
```