/-
Case: soundness-4-macro-exploit
Category: Elaborator/Macro Soundness
Severity: CRITICAL if exploitable

Test: Macro and tactic-based soundness exploits
Goal: Test if macros/tactics can bypass kernel checks
-/

-- Test 1: Can we use macros to generate unsound terms?
macro "unsafe_axiom" : term => `(sorry)

-- This should still be caught:
-- theorem fake : False := unsafe_axiom

-- Test 2: Tactic that tries to produce False
example : True := by
  trivial

-- Test 3: Nested macros
macro "nested" : term => `(nested)  -- Should cause expansion error

-- Test 4: Try to bypass termination via macros
partial def loop : Nat := loop

-- Can we hide this in a macro?
macro "hidden_loop" : term => `(loop)

-- Test 5: Expr manipulation
open Lean in
#check Expr.const `False []

-- Test 6: Try to construct False directly via Expr
-- If we could add this to the environment without kernel check, that would be unsound